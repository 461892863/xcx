{"version":3,"sources":["webpack:///C:/Users/hzy0926/Desktop/xcx线上/xcx/pages/index/index.vue","webpack:///C:/Users/hzy0926/Desktop/xcx线上/xcx/pages/index/index.vue?229d","webpack:///C:/Users/hzy0926/Desktop/xcx线上/xcx/pages/index/index.vue?a598","webpack:///C:/Users/hzy0926/Desktop/xcx线上/xcx/pages/index/index.vue?75c0","webpack:///C:/Users/hzy0926/Desktop/xcx线上/xcx/pages/index/index.vue?2241","webpack:///C:/Users/hzy0926/Desktop/xcx线上/xcx/pages/index/index.vue?2ee9","webpack:///C:/Users/hzy0926/Desktop/xcx线上/xcx/pages/index/index.vue?671a"],"names":["data","carStyle","carCount","joinTimes","imgUrl","dayCur","buyList","worship","name","dataId","selectDay","category","goods","height","foodSTop","currentIndex","cropId","components","shopcart","cartcontrol","mSearch","uniRate","onLoad","sessionStorage","setItem","token","getItem","that","Number","uni","getSystemInfoSync","windowHeight","isUserId","getDay","onHide","onShow","orderType","delOrderType","computed","getList","result","forEach","good","foods","food","count","push","getAllCount","item","i","Vue","set","length","sort","a","b","methods","allCount","e","toOrder","showModal","content","success","res","confirm","delAll","switchTab","url","cancel","console","log","d","Date","ye","getFullYear","mo","getMonth","toString","padStart","da","getDate","time","request","nowUrl","header","date","code","id","getHistory","getCategory","showToast","duration","dayId","showLoading","mask","hideLoading","value","len","categoryName","getFoods","categoryId","search","dateId","foodName","j","setDay","index","select","title","icon","setScrollH","query","createSelectorQuery","selectAll","$nextTick","fields","size","parseInt","exec","setScrollIndex","foodDetail","navigateTo","animationType","animationDuration","addCart","decreaseCart","undefined","WX_Code","GetQueryString","window","location","href","split","GetUserId","Paras","reg","RegExp","r","substr","match","decodeURIComponent","userId","method","fail","alert"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport shopcart from '@/components/shopcart.vue';\n\timport cartcontrol from '@/components/cartcontrol.vue'\n\timport mSearch from '../../components/mehaotian-search.vue'\n\timport uniRate from '../../components/uni-rate.vue'\n\timport Vue from 'vue'\n\timport orderType from '../../common/public.js'\n\t// import BScroll from 'better-scroll'\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcarStyle: {\n\t\t\t\t\t\"direction\": 'column'\n\t\t\t\t},\n\t\t\t\tcarCount: 0,\n\t\t\t\tjoinTimes: 0,\n\t\t\t\timgUrl: 'http://106.15.194.58/images/', //图片接口\n\t\t\t\tdayCur: -1, //日期选中状态\n\t\t\t\tbuyList: [], //历史购买\n\t\t\t\tworship: [ //礼拜天数\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"星期一\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"星期二\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"星期三\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"星期四\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"星期五\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tdataId: '', // 当日日期id\n\t\t\t\tselectDay: '', //选中日期id\n\t\t\t\tcategory: [], //左侧菜单类别\n\t\t\t\tgoods: [], //合并后总数据\n\t\t\t\t// foods: [],  //右侧数据\n\t\t\t\theight: 0,\n\t\t\t\tfoodSTop: 0,\n\t\t\t\tcurrentIndex: 0,\n\t\t\t\tcropId: 'wwfe021789e015d145',\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tshopcart,\n\t\t\tcartcontrol,\n\t\t\tmSearch,\n\t\t\tuniRate\n\t\t},\n\t\tonLoad() {\n\t\t\tsessionStorage.setItem('token', '222b54775luln2b227e5n2247bdb0575')\n\t\t\tthis.token = sessionStorage.getItem('token')\n\t\t\tlet that = this\n\t\t\tthis.height = Number(uni.getSystemInfoSync().windowHeight) - 55;\n\t\t\tthis.isUserId()\n\t\t\tthis.getDay()\n\t\t\t// console.log(uni.getSystemInfoSync().windowHeight)\n\t\t\t// uni.setStorage({\n\t\t\t// \tkey: 'token',\n\t\t\t// \tdata: '12366666666'\n\t\t\t// });\n\t\t\t// uni.getStorage({\n\t\t\t// \tkey: 'token',\n\t\t\t// \tsuccess: function (res) {\n\t\t\t// \t\tconsole.log(res.data); //12366666666\n\t\t\t// \t\tthat.token = res.data\n\t\t\t// \t}\n\t\t\t// });\n\n\t\t},\n\t\tonHide() {\n// \t\t\tif (this.getAllCount > 0) {\n// \t\t\t\tuni.showModal({\n// \t\t\t\t\t\ttitle: '提示',\n// \t\t\t\t\t\tcontent: '确定删除该评论吗?',\n// \t\t\t\t\t\tsuccess: function(res) {\n// \t\t\t\t\t\t\tif (res.confirm) {\n// \t\t\t\t\t\t\t\t\n// \t\t\t\t\t\t\t} else if () {\n// \n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t})\n// \t\t\t\t}\n\t\t\t},\n\t\t\tonShow() {\n\t\t\t\t\torderType.delOrderType = true\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tcomputed: {\n\t\t\t\t\tgetList() {\n\t\t\t\t\t\tlet result = [];\n\t\t\t\t\t\tthis.goods.forEach((good) => {\n\t\t\t\t\t\t\tgood.foods.forEach((food) => {\n\t\t\t\t\t\t\t\tif (food.count) {\n\t\t\t\t\t\t\t\t\tresult.push(food)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn result\n\t\t\t\t\t},\n\t\t\t\t\t// 获得购物车所有商品数量\n\t\t\t\t\tgetAllCount: function(item) {\n\t\t\t\t\t\tlet result = [];\n\t\t\t\t\t\tlet count = 0;\n\n\t\t\t\t\t\tfor (let i = 0; i < this.goods.length; i++) {\n\t\t\t\t\t\t\tcount = 0;\n\t\t\t\t\t\t\tthis.goods[i].foods.forEach((food) => {\n\t\t\t\t\t\t\t\t// console.log('food',food);\n\t\t\t\t\t\t\t\tif (food.count >= 0) {\n\t\t\t\t\t\t\t\t\tcount += food.count\n\t\t\t\t\t\t\t\t\tVue.set(this.goods[i], 'count', count)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t// console.log('result', count);\n\t\t\t\t\t\t\tresult.push(count)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresult.sort(function(a, b) {\n\t\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcount = result[result.length - 1]\n\t\t\t\t\t\t// console.log('result', count);\n\t\t\t\t\t\treturn count;\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tmethods: {\n\t\t\t\t\tallCount(e){\n\t\t\t\t\t\tthis.carCount = e\n\t\t\t\t\t},\n\t\t\t\t\ttoOrder(){\n\t\t\t\t\t\tlet that = this\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\tcontent:'有订单未提交,确认跳转吗?',\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tthat.delAll()\n\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\turl:'../order/order'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tgetDay() { //礼拜\n\t\t\t\t\t\tlet that = this\n\t\t\t\t\t\tvar d = new Date();\n\t\t\t\t\t\tvar ye = d.getFullYear();\n\t\t\t\t\t\tvar mo = (d.getMonth() + 1).toString().padStart(2, '0');\n\t\t\t\t\t\tvar da = d.getDate().toString().padStart(2, '0');\n\t\t\t\t\t\tvar time = ye + '-' + mo + '-' + da;\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: this.nowUrl + '/foods/index/queryWeek',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'token': this.token\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tdate: time\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tthat.worship = res.data.data\n\t\t\t\t\t\t\t\tthat.worship.forEach(function(item, i) {\n\t\t\t\t\t\t\t\t\tif (item.code == time) {\n\t\t\t\t\t\t\t\t\t\tthat.dayCur = i\n\t\t\t\t\t\t\t\t\t\tthat.dataId = item.id\n\t\t\t\t\t\t\t\t\t\tthat.selectDay = item.id\n\t\t\t\t\t\t\t\t\t\tthat.getHistory(item.id)\n\t\t\t\t\t\t\t\t\t\tthat.getCategory(item.id)\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\tcontent: '未处于正确的订餐时间',\n\t\t\t\t\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tgetHistory(id) { // 历史购买\n\t\t\t\t\t\tlet that = this\n\t\t\t\t\t\tthat.dayId = id\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: this.nowUrl + '/foods/index/queryHistory',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'token': this.token\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tif (res.data.data) {\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < res.data.data.length; i++) {\n\t\t\t\t\t\t\t\t\t\tres.data.data[i].count = 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthat.buyList = res.data.data\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tgetCategory(id, value = \"\") { //菜单类别\n\t\t\t\t\t\tlet that = this\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: this.nowUrl + '/foods/index/queryCategory',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'token': this.token\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tthat.category = res.data.data\n\t\t\t\t\t\t\t\t//\tconsole.log(that.category, id)\n\t\t\t\t\t\t\t\tfor (let i = 0, len = that.category.length; i < len; i++) {\n\t\t\t\t\t\t\t\t\t// console.log(res.data.data[i].categoryName)\n\t\t\t\t\t\t\t\t\tthat.goods.push({\n\t\t\t\t\t\t\t\t\t\tname: res.data.data[i].categoryName,\n\t\t\t\t\t\t\t\t\t\tfoods: []\n\t\t\t\t\t\t\t\t\t}) //合并数据\n\t\t\t\t\t\t\t\t\tthat.getFoods(id, i, that.category[i].categoryId, value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// console.log(that.foods)\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tsearch(value) {\n\t\t\t\t\t\tthis.getCategory(this.dayId, value)\n\t\t\t\t\t},\n\n\t\t\t\t\tgetFoods(id, i, categoryId, value) {\n\t\t\t\t\t\tlet that = this\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: this.nowUrl + '/foods/index/queryTableFoods',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'token': this.token\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tdateId: id,\n\t\t\t\t\t\t\t\tcategoryId: categoryId,\n\t\t\t\t\t\t\t\tfoodName: value //搜索值\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t// console.log(res)\n\t\t\t\t\t\t\t\tfor (let j = 0, len = res.data.data.length; j < res.data.data.length; j++) {\n\t\t\t\t\t\t\t\t\tres.data.data[j].count = 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat.goods[i].foods = res.data.data\n\t\t\t\t\t\t\t\t// console.log(that.goods)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tsetDay(index, id) { //切换日期\n\t\t\t\t\t\tthis.dayCur = index\n\t\t\t\t\t\tthis.goods = []\n\t\t\t\t\t\tthis.selectDay = id\n\t\t\t\t\t\tthis.getHistory(id)\n\t\t\t\t\t\tthis.getCategory(id)\n\t\t\t\t\t},\n\t\t\t\t\t// 点击侧边栏\n\t\t\t\t\tselect(index) {\n\t\t\t\t\t\tif (this.goods[index].foods.length == 0) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '暂无' + this.goods[index].name + '菜品',\n\t\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.currentIndex = index;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// console.log(this.goods[index].foods)\n\t\t\t\t\t\tthis.setScrollH(index);\n\t\t\t\t\t},\n\t\t\t\t\t// 设置点击侧边栏右边滚动的高度\n\t\t\t\t\tsetScrollH: function(index) {\n\t\t\t\t\t\tvar that = this;\n\t\t\t\t\t\tlet height = 0;\n\t\t\t\t\t\tvar query = uni.createSelectorQuery();\n\t\t\t\t\t\t// console.log('query',query);\n\t\t\t\t\t\tlet foods = query.selectAll('.foods');\n\t\t\t\t\t\t// console.log('foods', foods);\n\t\t\t\t\t\tthis.$nextTick(function() {\n\t\t\t\t\t\t\tfoods.fields({\n\t\t\t\t\t\t\t\tsize: true\n\t\t\t\t\t\t\t}, data => {\n\t\t\t\t\t\t\t\tif (index == 0) {\n\t\t\t\t\t\t\t\t\tthat.foodSTop = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfor (let i = 0; i < index; i++) {\n\t\t\t\t\t\t\t\t\theight += parseInt(data[i].height);\n\t\t\t\t\t\t\t\t\t// console.log('fh', foods);\n\t\t\t\t\t\t\t\t\tthat.foodSTop = height;\n\t\t\t\t\t\t\t\t\t// console.log(that.foodSTop)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).exec();\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tsetScrollIndex(e) { //滚动事件\n\t\t\t\t\t\t// var query = uni.createSelectorQuery();\n\t\t\t\t\t\t// let foods = query.selectAll('.foods');\n\t\t\t\t\t\t// let height = 0;\n\t\t\t\t\t\t// this.$nextTick(function() {\n\t\t\t\t\t\t// \tfoods.fields({\n\t\t\t\t\t\t// \t\tsize: true,\n\t\t\t\t\t\t// \t\tscrollOffset: true\n\t\t\t\t\t\t// \t},data => {\n\t\t\t\t\t\t// \t\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\t\t\t// \t\t\t\theight += parseInt(data[i].height);\n\t\t\t\t\t\t// \t\t\t\tconsole.log(height - e.detail.scrollTop)\n\t\t\t\t\t\t// \t\t\t\tif(0 < height - e.detail.scrollTop < 10){\n\t\t\t\t\t\t// \t\t\t\t\t// console.log(i)\n\t\t\t\t\t\t// \t\t\t\t}\n\t\t\t\t\t\t// \t\t\t//\tthat.foodSTop = height;\n\t\t\t\t\t\t// \t\t\t}\n\t\t\t\t\t\t// \t\t\t\n\t\t\t\t\t\t// \t}).exec();\n\t\t\t\t\t\t// })\n\t\t\t\t\t},\n\t\t\t\t\tfoodDetail(id) { // 跳商品详情\n\t\t\t\t\t\t// console.log(this.dayId)\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../foodDetail/foodDetail?id=' + id + '&dayId=' + this.dayId,\n\t\t\t\t\t\t\tanimationType: 'slide-in-right',\n\t\t\t\t\t\t\tanimationDuration: 200\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\taddCart: function(item) { // 加\n\t\t\t\t\t\t// console.log('ev', JSON.stringify(item))\n\t\t\t\t\t\tif (item.count >= 0) {\n\t\t\t\t\t\t\titem.count++\n\t\t\t\t\t\t\t// buyList\n\t\t\t\t\t\t\tthis.buyList.forEach((food) => {\n\t\t\t\t\t\t\t\tif (item.name == food.name) {\n\t\t\t\t\t\t\t\t\tfood.count = item.count\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.goods.forEach((good) => {\n\t\t\t\t\t\t\t\tgood.foods.forEach((food) => {\n\t\t\t\t\t\t\t\t\tif (item.name == food.name) {\n\t\t\t\t\t\t\t\t\t\tfood.count = item.count\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t// console.log('c++', JSON.stringify(item))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\tconsole.log('add')\n\t\t\t\t\t\t\tthis.goods.forEach((good) => {\n\t\t\t\t\t\t\t\tgood.foods.forEach((food) => {\n\t\t\t\t\t\t\t\t\tif (item.name == food.name)\n\t\t\t\t\t\t\t\t\t\tVue.set(food, 'count', 1)\n\t\t\t\t\t\t\t\t\t// food.count = 1\n\t\t\t\t\t\t\t\t\t// console.log('add-shop', JSON.stringify(food))\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tthis.buyList.forEach((food) => {\n\t\t\t\t\t\t\t\tif (item.name == food.name) {\n\t\t\t\t\t\t\t\t\tVue.set(food, 'count', 1)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// food.count = 1\n\t\t\t\t\t\t\t\t// console.log('add-shop', JSON.stringify(food))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdecreaseCart(item) { //减\n\t\t\t\t\t\tif (item.count) {\n\t\t\t\t\t\t\titem.count--\n\t\t\t\t\t\t\tthis.goods.forEach((good) => {\n\t\t\t\t\t\t\t\tgood.foods.forEach((food) => {\n\t\t\t\t\t\t\t\t\tif (item.name == food.name)\n\t\t\t\t\t\t\t\t\t\tfood.count = item.count\n\t\t\t\t\t\t\t\t\t// console.log('dec-shop', JSON.stringify(this.foods))\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.buyList.forEach((food) => {\n\t\t\t\t\t\t\t\tif (item.name == food.name)\n\t\t\t\t\t\t\t\t\tfood.count = item.count\n\t\t\t\t\t\t\t\t// console.log('dec-shop', JSON.stringify(this.foods))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t// 清空购物车\n\t\t\t\t\tdelAll() {\n\t\t\t\t\t\tthis.goods.forEach((good) => {\n\t\t\t\t\t\t\tgood.foods.forEach((food) => {\n\t\t\t\t\t\t\t\tif (food.count) {\n\t\t\t\t\t\t\t\t\tfood.count = 0\n\t\t\t\t\t\t\t\t\t// console.log(JSON.stringify(food));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tisUserId() {\n\t\t\t\t\t\t// alert('token:' + this.token)\n\t\t\t\t\t\tif (this.token == null || this.token == 'undefined' || this.token == undefined) {\n\t\t\t\t\t\t\tvar WX_Code = this.GetQueryString(\"code\");\n\t\t\t\t\t\t\t// alert('code:' + WX_Code)\n\t\t\t\t\t\t\tvar nowUrl = window.location.href.split(\"#\")[0];\n\t\t\t\t\t\t\t// alert('nowUrl:' + nowUrl)\n\t\t\t\t\t\t\tif (WX_Code == \"\" || WX_Code == null || WX_Code == undefined) {\n\n\t\t\t\t\t\t\t\twindow.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + this.cropId +\n\t\t\t\t\t\t\t\t\t'&redirect_uri=' + nowUrl + '&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// alert('wxcode:' + WX_Code)\n\t\t\t\t\t\t\t\tthis.GetUserId(WX_Code);\n\t\t\t\t\t\t\t\t// alert('获取的token:' + this.token)\n\t\t\t\t\t\t\t\tif (this.token != \"\") {\n\t\t\t\t\t\t\t\t\twindow.sessionStorage.setItem('token', this.token);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// alert(\"userid:\" + this.WX_UserId);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tGetQueryString(Paras) {\n\t\t\t\t\t\tvar reg = new RegExp('(^|&)' + Paras + '=([^&]*)(&|$)');\n\t\t\t\t\t\tvar r = window.location.search.substr(1).match(reg);\n\t\t\t\t\t\tif (r != null) return decodeURIComponent(r[2]);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t// var url = window.location.href.split(\"#\")[0];\n\t\t\t\t\t\t// var paraString = url.substring(url.indexOf(\"?\") + 1, url.length).split(\"&\");\n\t\t\t\t\t\t// var paraObj = {};\n\t\t\t\t\t\t// debugger\n\t\t\t\t\t\t// for (let i = 0;  j = paraString[i]; i++) {\n\t\t\t\t\t\t// \tparaObj[j.substring(0, j.indexOf(\"=\")).toLowerCase()] = j.substring(j.indexOf(\"=\") + 1, j.length);\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t// var returnValue = paraObj[Paras.toLowerCase()];\n\t\t\t\t\t\t// if (typeof(returnValue) == \"undefined\") {\n\t\t\t\t\t\t// \treturn \"\";\n\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t// \treturn returnValue;\n\t\t\t\t\t\t// }\n\t\t\t\t\t},\n\t\t\t\t\tGetUserId(code) {\n\t\t\t\t\t\tvar userId = \"\";\n\t\t\t\t\t\tvar that = this;\n\t\t\t\t\t\t// alert('token请求地址:' + this.nowUrl + '/wx/getCompanyToken?code=' + code + '&mark=0')\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: this.nowUrl + '/wx/getCompanyToken?code=' + code + '&mark=0', //服务器端地址\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'content-type': 'application/json'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t\t\tuserId = res.data.data;\n\t\t\t\t\t\t\t\t\t// resolve(res.data.data)\n\t\t\t\t\t\t\t\t\tthat.token = res.data.data\n\t\t\t\t\t\t\t\t\tsessionStorage.setItem('token', that.token);\n\t\t\t\t\t\t\t\t\t// alert('token0: ' + res.data.data)\n\t\t\t\t\t\t\t\t\tthat.getDay()\n\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// alert(res.data.code);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\t\talert('请求失败');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t// alert('token1: ' + userId)\n\t\t\t\t\t\treturn userId;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=351b1b9c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('351b1b9c', component.options)\n    } else {\n      api.reload('351b1b9c', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=351b1b9c&\", function () {\n      api.rerender('351b1b9c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/hzy0926/Desktop/xcx线上/xcx/pages/index/index.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=template&id=351b1b9c&\""],"sourceRoot":""}