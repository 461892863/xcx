(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{4288:function(e,n,t){"use strict";var o=t("adbf"),a=t.n(o);a.a},"49b7":function(e,n,t){"use strict";t.r(n);var o=t("e418"),a=t("56a5");for(var i in a)"default"!==i&&function(e){t.d(n,e,function(){return a[e]})}(i);t("4288");var s=t("2877"),r=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=r.exports},"56a5":function(e,n,t){"use strict";t.r(n);var o=t("94ae"),a=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,function(){return o[e]})}(i);n["default"]=a.a},"94ae":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{phone:"18707076473",code:""}},methods:{getCode:function(n){var t=this,o=/^1(3|4|5|7|8)\d{9}$/.test(this.phone);return e.getUserInfo({provider:"weixin",success:function(o){o.userInfo.nickName,o.userInfo.avatarUrl;try{e.setStorageSync("isCanUse",!1),t.updateUserInfo()}catch(n){}},fail:function(e){}}),""==this.phone?(e.showToast({title:"请填写手机号码~",duration:1e3,icon:"none"}),!1):o?(console.log(this.phone," at pages\\login\\login.vue:52"),void e.request({url:this.nowUrl+"/sms/send?mobile="+this.phone,method:"POST",header:{token:this.token},success:function(e){200==e.data.code&&(t.code=e.data.data)}})):(e.showToast({title:"手机号码有误~",duration:1e3,icon:"none"}),!1)},login:function(){var n=this;if(""==this.phone&&""==this.code)return e.showToast({title:"手机号码或验证码为空~",duration:1e3,icon:"none"}),!1;e.switchTab({url:"../index/index"}),e.showLoading({title:"登录中..."}),e.login({provider:"weixin",success:function(t){var o=t.code;n.isCanUse||e.getUserInfo({provider:"weixin",success:function(e){e.userInfo.nickName,e.userInfo.avatarUrl}}),console.log(o," at pages\\login\\login.vue:101"),e.request({url:n.nowUrl+"/wx/code2Session?code="+o,header:{token:n.token},method:"POST",success:function(n){console.log(n," at pages\\login\\login.vue:110"),e.hideLoading()}})}})},updateUserInfo:function(){var n=this;e.request({url:"url",data:{appKey:this.$store.state.appKey,customerId:n.customerId,nickName:n.nickName,headUrl:n.avatarUrl},method:"POST",header:{"content-type":"application/json"},success:function(n){"success"==n.data.state&&e.reLaunch({url:"/pages/index/index"})}})}}};n.default=t}).call(this,t("6e42")["default"])},adbf:function(e,n,t){},e418:function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},a=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return a})}},[["386d","common/runtime","common/vendor"]]]);